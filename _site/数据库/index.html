<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"> <title>数据库 &#8211; Maple Story</title> <meta name="description" content="Stick to note down what I’v learnt"> <meta name="keywords" content="数据库"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="halve.png"> <meta name="twitter:title" content="数据库"> <meta name="twitter:description" content="Stick to note down what I’v learnt"> <!-- Open Graph --> <meta property="og:locale" content="en_US"> <meta property="og:type" content="article"> <meta property="og:title" content="数据库"> <meta property="og:description" content="Stick to note down what I’v learnt"> <meta property="og:url" content="http://localhost:4000/%E6%95%B0%E6%8D%AE%E5%BA%93/"> <meta property="og:site_name" content="Maple Story"> <meta property="og:image" content="http://localhost:4000/images/halve.png"> <link rel="canonical" href="http://localhost:4000/%E6%95%B0%E6%8D%AE%E5%BA%93/"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Feed --> <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="" /> <!-- Favicons --> <link rel="shortcut icon" type="image/png" href="http://localhost:4000/favicon.png" /> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" /> <!-- CSS --> <link rel="stylesheet" type="text/css" href="http://localhost:4000/assets/css/main.css"> <!-- Left Block Image for Posts --> <style type="text/css"> #posts.inner-post-page .block-left {background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(http://localhost:4000/images/unsplash-gallery-image-3.jpg) no-repeat;background-size: cover;} </style> <!-- Left Block Images for Home and Pages --> <style type="text/css"> #posts .block-left {background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(http://localhost:4000/images/unsplash-image-10.jpg) no-repeat;background-size: cover, cover;} .block-left {background: linear-gradient(rgba(44,45,51,0.9), rgba(44,45,51,0.9)), url(http://localhost:4000/images/home.jpg) no-repeat;background-size: cover;} </style> </head> <body id="posts" class="inner-post-page"> <div class="block-left"> <div class="content"> <a href="http://localhost:4000" class="logo"><img src="http://localhost:4000/images/halve.png"></a> <div class="post-title-section"> <div class="section-line">Posts <em>/</em></div> <h1 class="section-title">数据库 </h1> <ul class="tags"> <li><a href="http://localhost:4000/tags#数据库">数据库</a></li> </ul> <div class="section-line reverse"><a href="http://localhost:4000/posts">Back to posts</a> <em>/</em></div> </div> </div> </div> <div class="block-right"> <a href="../posts.html" title="posts" class="posts-menu-icon"></a> <a title="projects" class="projects-menu-icon"> <span></span> </a> <div class="inner-post content"> <div class="date-highlight">03 Apr 2020</div> <center><h2><b>数据库</b></h2></center> <p><br /></p> <h3 id="acid">ACID</h3> <p>事务的特性：</p> <blockquote> <p>原子性、一致性、隔离性、持久性</p> </blockquote> <h4 id="一致性">一致性：</h4> <p>这里的一致性和分布式对应的一致性是不相同的。</p> <p><strong>数据库</strong>的一致性：对关系数据库完整性的保证，事务开始之前和事务结束之后关系数据库的完整性约束不会被破坏，和业务上的一致性。</p> <p><strong>分布式</strong>的一致性：分布式系统中多个存储副本数据的一致性。</p> <h3 id="索引"><strong>索引</strong></h3> <blockquote> <p><a href="https://www.cnblogs.com/51benpao/p/12791303.html">Mysql添加索引及索引的优缺点</a></p> </blockquote> <p>索引是对数据库表中的一列或多列值进行排序的一种结构，使用索引可以快速访问表中的信息。</p> <p>普通索引，唯一索引，主键索引，联合索引</p> <p><strong>作用</strong></p> <p>相当于目录，或者数组下标检索这么一个功能，快速找到所需内容， 提高性能</p> <p><strong>优点</strong></p> <ol> <li>通过创建唯一索引，可以保证数据库每一行数据的唯一性（主键自动建立唯一索引【主键索引】）</li> <li>可以加快数据的检索速度（适合频繁作为查询条件的字段，where用不到的字段<strong>不创建索引</strong>）</li> <li>加速表与表的连接</li> <li>使用分组和排序进行检索，减少查询中分组和排序的时间（查询中的排序字段建立索引能大大提高排序速度、统计或分组的字段）</li> </ol> <p><strong>缺点</strong></p> <ol> <li>创建和维护索引需要时间，时间随着数据量的增加而增加</li> <li>索引需要占用物理空间，数据量越大，空间越大</li> <li>降低表的增删改效率，每次增删都需要维护索引。（频繁update的不适合创建索引）</li> </ol> <h3 id="sql索引及其添加索引和判断是否添加成功">SQL索引，及其添加索引和判断是否添加成功；</h3> <p>添加索引：CREATE INDEX indexName ON tableName (colName);</p> <p>查看索引：EXPLAIN SELECT colName from tableName;</p> <h3 id="mysql索引用的b-tree">MySQL索引用的B+-Tree</h3> <blockquote> <p>参考：</p> <p><a href="https://blog.csdn.net/weixin_30531261/article/details/79312676">一步步分析为什么B+树适合作为索引的结构</a></p> </blockquote> <h4 id="avl不适合做索引">AVL不适合做索引</h4> <p>AVL不适合作为索引的原因：没有充分利用局部性原理（当一个数据被用到时，其附近的数据也通常会马上被使用。）,磁盘IO操作多。</p> <h4 id="b-tree">B-Tree</h4> <p>B树，多路搜索树。</p> <p>B树充分利用磁盘的预读功能。而AVL一次磁盘预读的时候有很多数据都用不上。</p> <p>B树的一个节点存储多个关键字，节点大小设置为磁盘页的大小，每次读就读整个节点。</p> <p>B树和AVL的查询次数相同，但是更多的情况不需要去磁盘去找数据，在内存中找，从而加快了速度。</p> <h4 id="b-tree-1">B+-Tree</h4> <p>B+树的数据记录全部放在叶子节点，非叶子节点用来做索引。而叶子节点的其中一个指针指向下一个叶子节点，提高了区间的访问性能。</p> <blockquote> <p>B+树方便扫库，而B树必须按照中序的方式扫库。</p> <p>或者B+说对Range Query很方便，而B树范围查询3-7的数据，查到的3后还必须的遍历树来找到下一个块的位置，直到下一个不满足的节点。而B+树可以直接通过叶子节点的指针顺序遍历找到下一个块。</p> </blockquote> <h3 id="参考">参考：</h3> <blockquote> <p><a href="https://blog.csdn.net/weixin_30531261/article/details/79312676">一步步分析为什么B+树适合作为索引的结构</a></p> <p><a href="http://blog.codinglabs.org/articles/theory-of-mysql-index.html">MySQL索引背后的数据结构及算法原理</a></p> </blockquote> <br> <nav class="pagination"> <a href="http://localhost:4000/==%E4%B8%8Eequals%E7%9A%84%E5%8C%BA%E5%88%AB/" class="pagination_pager" title="== 和 equals的区别 ">previous</a> <a href="http://localhost:4000/%E7%A7%BB%E4%BD%8D%E8%BF%90%E7%AE%97/" class="pagination_pager" title="移位运算 ">next</a> </nav> </div> </div> <!-- JS --> <script src="http://localhost:4000/assets/js/main.min.js"></script> <div class="overlay"> <ul class="projects-menu"> <li style="background:url(http://localhost:4000/images/unsplash-image-4.jpg) center center no-repeat;"> <a href="https://blog.maplestory.work/classcheckin.html" target="_blank" rel="nofollow external"> <span> 点名小程序 </span> </a> </li> </ul> </div> </body> </html>
